{% extends 'forum/base.html' %}
{% load tailwind_filters %}

{% block content %}

<div class="flex items-center justify-between">
    <h1 class="text-xl font-bold text-gray-700 md:text-2xl">{{ thread.title }}</h1>
    <ul class="text-xl flex items-center font-bold md:text-2xl ">
        {% for category in thread.categories.all %}
                            <a href="{% url "category-detail" category.id %}"
                           class="inline-block rounded-full text-white bg-black hover:bg-gray-500 duration-300 text-xs font-bold mr-1 md:mr-2 mb-2 px-2 md:px-4 py-1 opacity-90 hover:opacity-100">
                                {{ category.name }}
                        </a>
                        {% endfor %}
    </ul>
</div>
<div class="mt-6">
            <div class="max-w-4xl px-10 py-6 bg-white rounded-lg shadow-lg">
                <p>{{ thread.content }}</p>
            </div>
</div>
    <p>{{ thread.content }}</p>
    <p>{{ thread.created_at|date }}</p>

    <ul>
        {% for category in thread.categories.all %}
            <li>{{ category.colored_name }}</li>
        {% endfor %}
    </ul>

    {% if user == thread.author %}
        <a href="{% url 'thread-update' thread.id %}">update</a>
        <a href="{% url 'thread-delete' thread.id %}">delete</a>
    {% endif %}

    <hr>

    <ul>
    {% for post in thread.get_posts.all %}
        {% if not post.parent %}

            {% include "forum/tree_post.html" %}

        {% endif %}
    {% endfor %}
    </ul>

    <hr>

    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <input type="submit" value="Save">
    </form>

{% endblock %}